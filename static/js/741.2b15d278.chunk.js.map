{"version":3,"file":"static/js/741.2b15d278.chunk.js","mappings":"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","sources":["services/apiName.js","webpack://goit-react-woolf-hw-05-movies/./src/pages/Movies.module.css?d157","pages/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/search/movie?';\n\nconst REQUEST_OPTIONS = {\n  api_key: '2ffe18644d276784f1ed0436b355498e',\n  page: 1,\n};\n\nasync function getMovieByName(query) {\n  REQUEST_OPTIONS.query = query.toLowerCase().trim();\n  \n  const options = new URLSearchParams(REQUEST_OPTIONS);\n\n  try {\n    const response = await axios.get(`${BASE_URL}${options}`);\n    \n    return response;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport default getMovieByName;\n","// extracted by mini-css-extract-plugin\nexport default {\"pageContainer\":\"Movies_pageContainer__fVQLq\",\"search\":\"Movies_search__Lis1s\",\"searchField\":\"Movies_searchField__VVuRR\",\"searchButton\":\"Movies_searchButton__I-A1L\",\"error\":\"Movies_error__MUEG+\",\"moviesList\":\"Movies_moviesList__Rop+n\",\"link\":\"Movies_link__koirl\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport getMovieByName from '../services/apiName';\nimport css from './Movies.module.css';\n\nfunction Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movie_title = searchParams.get('movie_title') ?? '';\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState('');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (movie_title.length === 0) {\n      return;\n    }\n\n    getMovieByName(movie_title)\n      .then(response => {\n        setMovies(response.data.results);\n        setStatus(response.status);\n      })\n      .catch(error => {\n        setError(error.message);\n      });\n  }, [movie_title]);\n\n  const handleFormSubmit = e => {\n    e.preventDefault(e);\n    const param = e.target[0].value;\n    const currentParam = param !== '' ? { movie_title: param } : {};\n    setSearchParams(currentParam);\n  };\n\n  return (\n    <main className={css.pageContainer}>\n      <form className={css.search} onSubmit={handleFormSubmit}>\n        <label>\n          <input\n            className={css.searchField}\n            type=\"text\"\n            placeholder=\"start searching\"\n            autoComplete=\"off\"\n          />\n        </label>\n        <button className={css.searchButton} type=\"submit\">\n          Search\n        </button>\n      </form>\n      {error && <p className={css.error}>Results not found</p>}\n      {status === 200 && movies.length === 0 && (\n        <p className={css.error}>Results not found</p>\n      )}\n      {movies.length > 0 && (\n        <ul className={css.moviesList}>\n          {movies.map(({ title, id }) => {\n            return (\n              <li className={css.link} key={id}>\n                <Link to={`${id}`} state={{ from: location }}>\n                  {title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </main>\n  );\n}\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["BASE_URL","REQUEST_OPTIONS","api_key","page","getMovieByName","query","toLowerCase","trim","options","URLSearchParams","axios","response","console","log","message","useSearchParams","searchParams","setSearchParams","movie_title","get","useState","movies","setMovies","error","setError","status","setStatus","location","useLocation","useEffect","length","then","data","results","catch","className","css","onSubmit","e","preventDefault","param","target","value","type","placeholder","autoComplete","map","title","id","to","state","from","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}